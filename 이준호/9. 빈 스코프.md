### 1. 빈 스코프란?

- 스프링 빈은 스프링 컨테이너의 시작과 함께 생성되어 스프링 컨테이너가 종료될 때 까지 유지됨
  why? 스프링 빈이 기본적으로 싱글톤 스코프(스프링이 지원하는 다양한 스코프 중 컨테이너와 동일한 생명주기를 가지는 스코프)로 생성되기 때문
- 빈 스코프: 빈이 존재할 수 있는 범위

### 2. 프로토타입 스코프
- 싱글톤 스코프의 빈을 조회하면 스프링 컨테이너는 항상 같은 인스턴스의 스프링 빈을 반환 but 프로토타입 스코프를 스프링 컨테이너에 조회하면 스프링 컨테이너는 항상 새로운 인스턴스를 생성해서 반환.
- 중요한 점은 스프링 컨테이너는 프로토타입 빈을 생성하고, 의존관계 주입, 초기화까지만 처리한다는 것. 프로토타입 빈을 관리할 책임은 프로토타입 빈을 받은 클라이언트에게 있으므로 @preDestroy 같은 종료 메소드가 호출되지 X
- 대부분 싱글톤 빈을 사용하고 가끔 프로토타입 빈 사용

### 3. 프로토타입 스코프 - 싱글톤 빈과 함께 사용시 문제점

- 프로토타입 빈을 주입 시점에만 새로 생성하는 것이 아닌, 사용할 때 마다 새로 생성해서 사용하도록 해야함
- 가장 간단한 해결방법: 싱글톤 빈이 프로토타입을 사용할 때 마다 스프링 컨테이너에 새로 요청하는 것

### 4. 프로토타입 스코프 - 싱글톤 빈과 함께 사용시 Provider로 문제 해결

1. 스프링이 제공하는 ObjectFactory(Old ver), ObjectProvider(New ver)로 문제 해결: 지정한 빈을 컨테이너에서 대신 찾아주는 DL 서비스를 제공
2. JSR-330 Provider: 스프링에 의존하지 않고, JSR-330 자바 표준을 사용하는 방법으로 문제해결
- 스프링을 사용하다 보면 자바 표준과 스프링이 제공하는 기능이 겹칠때가 많은데, 특별히 다른 컨테이너를 사용할 일이 없다면 스프링이 제공하는 표준 기능을 사용한다

### 5. 웹 스코프

- 웹 스코프는 웹 환경에서만 동작하며, 스프링의 해당 스코프의 종료시점까지 관리한다.

### 6. 스코프와 Provider

- ObjectProvider 덕분에 ObjectProvider.getObject()를 호출하는 시점까지 request scope 빈의 생성을 지연할 수 있다
- ObjectProvider.getObject()를 호출하는 시점에는 HTTP 요청이 진행중이므로 request scope빈의 생성이 정상 처리된다
- ObjectProvider.getObject()를 LogDemoController, LogDemoService에서 각각 한번씩 따로 호출해도 같은 HTTP 요청이면 같은 스프링 빈이 반환된다 
