# 빈 생명주기 콜백

- 스프링 빈이 생성되거나 소멸 직전에, 스프링 빈 안에 있는 메서드를 호출해줄 수 있는 기능



### 1. 빈 생명주기 콜백 시작

- DB 커넥션 풀

- 네트워크 소켓

- 애플리케이션 시작 시점에 필요한 연결을 미리 해두고 애플리케이션 종료 시점에 연결을 모두 종료하는 작업을 진행하려면, 객체의 초기화와 종료작업이 필요한데 이를 스프링이 적절하게 제공

- 스프링은 크게 3가지 방법으로 빈 생명주기 콜백 지원

  - 인터페이스(InitializingBean, DisposableBean)

  - 설정 정보에 초기화 메서드, 종료 메서드 지정

  - @PostConstruct, @Pre Destroy 애노테이션 지원

  

### 2. 인터페이스 InitializingBean, DisposableBean
-  인터페이스를 사용하는 초기화, 종료 방법은 스프링 초창기에 나온 방법들. 지금은 거의 사용하지 X.



### 3. 빈 등록 초기화, 소멸 메서드

- 빈을 등록하는 시점에 설정 정보에 @Bean(initMethod = "init", destroyMethod = "close")처럼 초기화, 소멸 메서드를 지정할 수 있다
- 코드가 아닌 설정 정보를 사용하기 때문에 코드를 고칠 수 없는 외부 라이브러리에도 초기화, 종료 메서드를 적용할 수 있다.
- 메서드 이름을 자유롭게 지정할 수 있으며, 스프링 빈이 스프링 코드에 의존하지 않는다.



### 4. 애노테이션 @PostConstruct, @PreDestroy

- 3가지 방법중 이 방법을 쓰면 된다(최신 스프링에서 가장 권장하는 방법)
- 단, 코드를 고칠 수 없는 외부 라이브러리를 초기화, 종료해야 하면 @Bean의 initMethod, destroyMethod를 사용
