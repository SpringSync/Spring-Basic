## 빈 스코프
- 빈이 존재할수 있는 범위, 스프링 빈은 스프링 컨테이너의 시작과 함께 생성되어서 스프링 컨테이너가 종료될때까지 유지된다.
- 이러한 특성은 스프링 빈이 기본적으로 **싱글톤 스코프**로 생성되기 떄문이다. 

## 스프링의 제공 스코프
- 싱글톤
- 프로토타입
- request
- session
- application
## 스코프 등록 방법
```java
@Scope("prototype")
@Component
public class HelloBean {}
```

## 프로토타입 스코프

- 스프링이 기본값으로 정의된 것은 싱글톤스코프 이다.
- 그래서 스프링 컨테이너는 항상 같은 인스턴스의 스프링 빈을 반환한다.
- 반면에 프로토타입 스코프를 스프링 컨테이너에 조회하면 스프링 컨테이너는 항상 새로운 인스턴스를 생성해서 반환한다.

![image](https://github.com/SpringSync/Spring-Basic/assets/58305106/61bc16b4-065e-45c9-ab9a-1a36842f0093)

1. 싱글톤 스코프의 빈을 스프링 컨테이너에 요청한다.
2. 스프링 컨테이너는 본인이 관리하는 스프링 빈을 반환한다.
3. 이후에 스프링 컨테이너에 같은 요청이 와도 같은 객체 인스턴스의 스프링 빈을 반환한다

## 프로토타입 빈의 특징

- 스프링 컨테이너에 요청할 때 마다 새로 생성된다
- 스프링 컨테이너는 프로토타입 빈의 생성과 의존관계 주입 그리고 초기화까지만 관여한다
- 종료 메서드가 호출되지 않는다. 그래서 프로토타입 빈은 프로토타입 빈을 조회한 클라이언트가 관리해야 한다. 종료 메서드에 대한 호출도 클라이언트가 직접 해야한다

## 싱글톤에서 프로토타입 빈 사용

- clientBean 은 싱글톤이므로, 보통 스프링 컨테이너 생성 시점에 함께 생성되고, 의존관계 주입도 발생한다.
- 1. clientBean 은 의존관계 자동 주입을 사용한다. 주입 시점에 스프링 컨테이너에 프로토타입 빈을 요청한다.
-  2. 스프링 컨테이너는 프로토타입 빈을 생성해서 clientBean 에 반환한다. 프로토타입 빈의 count 필드값은 0이다.
## 웹 스코프

- 웹 스코프는 웹 환경에서만 동작한다
- 웹 스코프는 프로토타입과 다르게 스프링이 해당 스코프의 종료시점까지 관리한다. 따라서 종료 메서드가 호출된다.

## 웹 스코프 종류
- request: HTTP 요청 하나가 들어오고 나갈 때 까지 유지되는 스코프, 각각의 HTTP 요청마다 별도의 빈 인스턴스가 생성되고 관리된다.
- session: HTTP Session과 동일한 생명주기를 가지는 스코프
- application: 서블릿 컨텍스트( ServletContext )와 동일한 생명주기를 가지는 스코프
- websocket: 웹 소켓과 동일한 생명주기를 가지는 스코프

  ![image](https://github.com/SpringSync/Spring-Basic/assets/58305106/86803be1-ed9f-4853-8555-9d3d1a7f2f16)

  
   
